(this["webpackJsonpweather-wizard"]=this["webpackJsonpweather-wizard"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},46:function(e,t,c){},66:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(14),s=c.n(r),i=c(13),l=(c(38),c(12)),o=(c(39),c(1)),j=function(){return Object(o.jsx)("nav",{children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{exact:!0,activeClassName:"current",to:"/",children:"Home"})}),Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{exact:!0,activeClassName:"current",to:"/temperature",children:"Temperature"})}),Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{exact:!0,activeClassName:"current",to:"/forecast",children:"Forecast"})})]})})},u=c(5),d=(c(46),function(){return Object(o.jsx)("div",{className:"home-page app",children:Object(o.jsx)("h1",{children:"This is my homepage"})})}),h=(c(47),function(e){var t=e.location,c=e.baseUrl+"temperature?currentCity=",n=Object(a.useState)(null),r=Object(l.a)(n,2),s=r[0],i=r[1],j=Object(a.useState)(null),u=Object(l.a)(j,2),d=u[0],h=u[1],m=Object(a.useCallback)((function(e){return e?{city:e.name,country:e.sys.country,icon:e.weather.length>0&&e.weather[0].id,main:e.weather.length>0&&e.weather[0].main,temp:e.main.temp,temp_max:e.main.temp_max,temp_min:e.main.temp_min,description:e.weather.length>0&&e.weather[0].description}:{}}),[]);Object(a.useEffect)((function(){t&&fetch(c+t,{method:"get",mode:"cors"}).then((function(e){return e.json()})).then((function(e){200===e.cod?(h(null),console.log(e),i(m(e)),console.log(m(e))):(i(null),h(e.message))})).catch((function(e){h(e.message),console.log(e.message)}))}),[t,c,m]);var b=s&&Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],c=e.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(a," ").concat(c," ").concat(n)}(new Date)}),Object(o.jsxs)("p",{children:[" ",s.city,", ",s.country]}),Object(o.jsx)("p",{children:s.main})]});var p,x=s?s.main.temp:0;return p=x>45?"app-spring":x>75?"app-summer":"app-autumn",null===s?Object(o.jsx)("div",{children:"Loading..."}):Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:"location-box",children:Object(o.jsx)("div",{className:"location",children:b})}),Object(o.jsx)("i",{className:"wi wi-owm-".concat(s.icon)}),Object(o.jsx)("div",{className:p,children:Object(o.jsxs)("div",{className:"weather-box",children:[Object(o.jsx)("h3",{children:d?Object(o.jsx)("div",{children:Object(o.jsx)("h2",{className:"error-msg",children:d})}):"".concat(Math.round(s.temp),"\xbaF")}),Object(o.jsx)("div",{children:function(e,t){if(t&&e)return Object(o.jsxs)("h4",{children:[Object(o.jsxs)("span",{className:"px-4",children:["L: ",Math.round(e),"\xbaF"]}),Object(o.jsxs)("span",{className:"px-4",children:["H: ",Math.round(t),"\xbaF"]})]})}(s.temp_min,s.temp_max)})]})})]})}),m=c(31),b=c.n(m),p=c(32),x=c(20),O=function(e){var t,c=e.location,n=e.baseUrl+"forecast?currentCity=",r=Object(a.useState)([]),s=Object(l.a)(r,2),i=s[0],j=s[1],u=Object(a.useState)(null),d=Object(l.a)(u,2),h=d[0],m=d[1];if(Object(a.useEffect)((function(){c&&b()(n+c,{method:"get",mode:"cors"}).then((function(e){200===parseInt(e.data.cod)?(m(null),j(e.data.list)):(j([]),m(e.data.message))})).catch((function(e){m(e.message),console.log(e.message)}))}),[c,n]),0===i.length)return h?Object(o.jsx)("div",{children:Object(o.jsx)("h2",{className:"error-msg",children:h})}):Object(o.jsx)("div",{children:"Loading..."});for(var O=[],f=0;f<i.length;f++){var g=Math.floor(f/8);if(g===O.length){var v=new Date(i[f].dt_txt);O.push({max_temp:-1e3,min_temp:1e3,date:v})}var y=i[f].main.temp_min,N=i[f].main.temp_max;N>O[g].max_temp&&(O[g].max_temp=N),y<O[g].min_temp&&(O[g].min_temp=y)}var w=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],c=e.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],n=e.getFullYear();return"".concat(t," ").concat(c," ").concat(a," ").concat(n)},C=O.map((function(e,t){return Object(o.jsxs)(x.a.Item,{className:"daily-forecast",children:[Object(o.jsxs)("p",{children:[w(e.date)," "]}),Object(o.jsxs)("p",{children:["H: ",Math.round(e.max_temp),"\xbaF"]}),Object(o.jsxs)("p",{children:["L: ",Math.round(e.min_temp),"\xbaF"]})]},t)})),_=(null===i||void 0===i?void 0:i.length)&&(null===(t=i[0].weather)||void 0===t?void 0:t.length)&&i[0].weather[0].main,F=(null===i||void 0===i?void 0:i.length)&&i[0].main.temp>50?"app-spring":"app";return"Clouds"===_&&(F="app-windy"),Object(o.jsx)(p.a,{className:F,children:Object(o.jsx)(x.a,{children:C})})},f=function(e){var t=e.location,c=e.baseUrl;return Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{exact:!0,path:"/",component:d}),Object(o.jsx)(u.a,{exact:!0,path:"/temperature",children:Object(o.jsx)(h,{location:t,baseUrl:c})}),Object(o.jsx)(u.a,{exact:!0,path:"/forecast",children:Object(o.jsx)(O,{location:t,baseUrl:c})})]})},g=(c(66),function(e){var t=Object(a.useState)(""),c=Object(l.a)(t,2),n=c[0],r=c[1];return Object(o.jsx)("form",{className:"currentCity-search-form",onSubmit:function(t){t.preventDefault(),e.searchCurrentCityCallBack(n)},children:Object(o.jsx)("div",{className:"search-box",children:Object(o.jsx)("input",{type:"text",className:"search-bar",placeholder:"City, Country ",onChange:function(e){r(e.target.value)},value:n})})})}),v=c(33),y="";y="https://flask-backend-solo.herokuapp.com/";var N=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(o.jsx)(v.a,{className:"App",children:Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("div",{className:"weather-box",children:Object(o.jsxs)("div",{className:"temp",children:[Object(o.jsx)(g,{searchCurrentCityCallBack:function(e){n(e)}}),Object(o.jsx)(j,{}),Object(o.jsx)(f,{location:c,baseUrl:y})]})})})})},w=(c(67),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))});s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(i.a,{children:Object(o.jsx)(N,{})})}),document.getElementById("root")),w()}},[[68,1,2]]]);
//# sourceMappingURL=main.e7b2ffda.chunk.js.map